<!DOCTYPE HTML>

<html>
<head>
<title>Index</title>

<script type="text/javascript">
 function onEVal(){
	 var s = document.getElementById("SCRIPT").value;
	 var r = document.getElementById("RESULT");
	 try {
		 var v = window.eval(s);
		 r.style.color = "";
		 r.textContent = "执行结果 = "+v;
	 } catch( ex ){
		 r.style.color = "red";
		 r.textContent = "执行错误 = "+ex;
	 }
 }
 function onCall(){
	 var s = document.getElementById("SCRIPT").value;
	 var r = document.getElementById("RESULT");
	 try {
		 var v = new Function(s).call(window);
		 r.style.color = "";
		 r.textContent = "执行结果 = "+v;
	 } catch( ex ){
		 r.style.color = "red";
		 r.textContent = "执行错误 = "+ex;
	 }
 }
  window.onload = function(){
	  document.getElementById("EVALBTN").onclick = onEVal;
	  document.getElementById("CALLBTN").onclick = onCall;
  }
</script>
	
</head>
<body>
<h1>JS-EVAL</h1>
<textarea id="SCRIPT" style="width:100%;height:200px" ></textarea>
<br>
<button id="EVALBTN">EVal方式执行</button>
<button id="CALLBTN">Func方式执行</button>
<hr>
<div id="RESULT"></div>
<hr>
</body>
</html>